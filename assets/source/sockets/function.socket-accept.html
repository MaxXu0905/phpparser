<HTML  ><HEAD  ><TITLE  >socket_accept</TITLE
><META  NAME="GENERATOR" CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK  REL="HOME" TITLE="PHP 手册" HREF="index.html"><LINK  REL="UP" TITLE="Socket Functions" HREF="ref.sockets.html"><LINK  REL="PREVIOUS" TITLE="Socket Functions" HREF="ref.sockets.html"><LINK  REL="NEXT" TITLE="socket_bind" HREF="function.socket-bind.html"><META  HTTP-EQUIV="Content-type" CONTENT="text/html; charset=gb2312"><LINK REL="stylesheet" HREF="style.css"></HEAD
><BODY TOPMARGIN="0" LEFTMARGIN="0"  CLASS="refentry" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#840084" ALINK="#0000FF" ><TABLE BORDER="0" WIDTH="100%" HEIGHT="100%" CELLSPACING="0" CELLPADDING="0"><TR><TD COLSPAN="3"><DIV CLASS="NAVHEADER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR><TD><TABLE  SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0" ><TR  ><TH  COLSPAN="3" ALIGN="center" >PHP 手册</TH
></TR
><TR  ><TD  WIDTH="10%" ALIGN="left" VALIGN="bottom" ><A  HREF="ref.sockets.html" ACCESSKEY="P" >后退</A
></TD
><TD  WIDTH="80%" ALIGN="center" VALIGN="bottom" ></TD
><TD  WIDTH="10%" ALIGN="right" VALIGN="bottom" ><A  HREF="function.socket-bind.html" ACCESSKEY="N" >前进</A
></TD
></TR
></TABLE></TD></TR><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR></TABLE></DIV></TD></TR><TR><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD><TD HEIGHT="100%" VALIGN="TOP" WIDTH="100%"><BR><H1  ><A  NAME="function.socket-accept" ></A
>socket_accept</H1
><DIV  CLASS="refnamediv" ><A  NAME="AEN103858" ></A
><P  >    (PHP 4 &#62;= 4.1.0)</P
>socket_accept&nbsp;--&nbsp;Accepts a connection on a socket</DIV
><DIV  CLASS="refsect1" ><A  NAME="AEN103861" ></A
><H2  >Description</H2
>resource <B  CLASS="methodname" >socket_accept</B
> ( resource socket)<BR  ></BR
><DIV  CLASS="warning" ><P  ></P
><TABLE  CLASS="warning" BORDER="1" WIDTH="100%" ><TR  ><TD  ALIGN="CENTER" ><B  >警告</B
></TD
></TR
><TR  ><TD  ALIGN="LEFT" ><P  >本扩展模块是<SPAN  CLASS="emphasis" ><I  CLASS="emphasis" >实验性</I
></SPAN
>的。该模块的行为，包括其函数的名称以及其它任何关于此模块的文档可能会在没有通知的情况下随 PHP 以后的发布而改变。我们提醒您在使用本扩展模块的同时自担风险。
</P
></TD
></TR
></TABLE
></DIV
><P  >&#13;     After the socket <TT  CLASS="parameter" ><I  >socket</I
></TT
> has been created
     using <A  HREF="function.socket-create.html" ><B  CLASS="function" >socket_create()</B
></A
>, bound to a name with
     <A  HREF="function.socket-bind.html" ><B  CLASS="function" >socket_bind()</B
></A
>, and told to listen for connections
     with <A  HREF="function.socket-listen.html" ><B  CLASS="function" >socket_listen()</B
></A
>, this function will accept
     incoming connections on that socket. Once a successful connection
     is made, a new socket resource is returned, which may be used
     for communication. If there are multiple connections queued on
     the socket, the first will be used. If there are no pending
     connections, <B  CLASS="function" >socket_accept()</B
> will block until
     a connection becomes present. If <TT  CLASS="parameter" ><I  >socket</I
></TT
>
     has been made non-blocking using
     <A  HREF="function.socket-set-blocking.html" ><B  CLASS="function" >socket_set_blocking()</B
></A
> or
     <A  HREF="function.socket-set-nonblock.html" ><B  CLASS="function" >socket_set_nonblock()</B
></A
>, <TT  CLASS="constant" ><B  >FALSE</B
></TT
> will be returned.
    </P
><P  >&#13;     The socket resource returned by
     <B  CLASS="function" >socket_accept()</B
> may not be used to accept new
     connections. The original listening socket
     <TT  CLASS="parameter" ><I  >socket</I
></TT
>, however, remains open and may be
     reused.
    </P
><P  >&#13;     Returns a new socket resource on success, or <TT  CLASS="constant" ><B  >FALSE</B
></TT
> on error. The actual
     error code can be retrieved by calling
     <A  HREF="function.socket-last-error.html" ><B  CLASS="function" >socket_last_error()</B
></A
>. This error code may be passed to
     <A  HREF="function.socket-strerror.html" ><B  CLASS="function" >socket_strerror()</B
></A
> to get a textual explanation of the
     error.
    </P
><P  >&#13;     See also 
     <A  HREF="function.socket-bind.html" ><B  CLASS="function" >socket_bind()</B
></A
>,
     <A  HREF="function.socket-connect.html" ><B  CLASS="function" >socket_connect()</B
></A
>,
     <A  HREF="function.socket-listen.html" ><B  CLASS="function" >socket_listen()</B
></A
>,
     <A  HREF="function.socket-create.html" ><B  CLASS="function" >socket_create()</B
></A
>, and
     <A  HREF="function.socket-strerror.html" ><B  CLASS="function" >socket_strerror()</B
></A
>.
    </P
></DIV
><BR></TD><TD><IMG SRC="spacer.gif" WIDTH="10" HEIGHT="1"></TD></TR><TR><TD COLSPAN="3"><DIV CLASS="NAVFOOTER"><TABLE BGCOLOR="#CCCCFF" BORDER="0" CELLPADDING="0" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#333366"><TD><IMG SRC="spacer.gif" BORDER="0" WIDTH="1" HEIGHT="1"><BR></TD></TR><TR><TD><TABLE  SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="3" CELLSPACING="0" ><TR  ><TD  WIDTH="33%" ALIGN="left" VALIGN="top" ><A  HREF="ref.sockets.html" ACCESSKEY="P" >后退</A
></TD
><TD  WIDTH="34%" ALIGN="center" VALIGN="top" ><A  HREF="index.html" ACCESSKEY="H" >起点</A
></TD
><TD  WIDTH="33%" ALIGN="right" VALIGN="top" ><A  HREF="function.socket-bind.html" ACCESSKEY="N" >前进</A
></TD
></TR
><TR  ><TD  WIDTH="33%" ALIGN="left" VALIGN="top" >Socket Functions</TD
><TD  WIDTH="34%" ALIGN="center" VALIGN="top" ><A  HREF="ref.sockets.html" ACCESSKEY="U" >上一级</A
></TD
><TD  WIDTH="33%" ALIGN="right" VALIGN="top" >socket_bind</TD
></TR
></TABLE></TD></TR></TABLE></DIV></TD></TR></TABLE></BODY
></HTML
>
